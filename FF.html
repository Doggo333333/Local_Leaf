<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FF</title>
    <!-- Replace YOUR_API_KEY_HERE with your actual API key -->
    <script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDOsiS1jLVvH5aMwO-a_TFOhg9k8XUYUd&&callback=initMap&libraries=maps,marker&v=beta"></script>
    <!-- Add jQuery library -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="FF.js"></script>
    <link rel="stylesheet" href="FF.css">
</head>
<body>
    <header>
        <h1>Park occupy checker website</h1>
    </header>
    <div class="container">
        <button class="find-state">Find parks near me</button>
            <form action="" id="contactForm">
                <div class="inputBox">
                    <textarea id="msgContent" cols="30" rows="10" placeholder="Message"></textarea>
                </div>
                <div class="inputBox">
                    <button type="submit">Submit</button>
                </div>
            </form>
        </div>
        <script>
            const findCurrLocation = () => {
                const status = document.querySelector('.status');

                const success = (position) => {
                    const LAT = position.coords.latitude;
                    const LONG = position.coords.longitude;
                    console.log(LAT + " " + LONG);

                    // Send LAT and LONG to the server using AJAX
                    $.ajax({
                        url: '/receive_data', // Replace with your server endpoint
                        method: 'POST',
                        contentType: 'application/json',
                        data: JSON.stringify({lat: LAT, long: LONG}),
                        success: function(response) {
                            console.log('Data sent successfully');
                            console.log(response);
                            // Handle success response from server if needed
                        },
                        error: function(xhr, status, error) {
                            console.error('Error sending data:', error);
                            // Handle error if needed
                        }
                    });
                }
                const error = (error) => {
                    console.error('Error getting current location:', error);
                    alert("Error getting current location");
                }
                navigator.geolocation.getCurrentPosition(success, error);
            }

            document.querySelector('.find-state').addEventListener('click', findCurrLocation);
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/7.14.1-0/firebase.js"></script>
        <script src="./index.js"></script>
    </div>
    <footer>
        <p>&copy; 2024 My Basic HTML Page. All rights reserved.</p>
    </footer>
</body>
</html>
